{% set autoclose = autoclose|default(ctx.autoclose|default(false))|int %}

<div
    x-data="{
        opened: null,
        autoclose: {{ autoclose|int }},
        collapse($shade) {
            if (this.autoclose) {
                if ($shade.contains($el)) {
                    this.opened = null;
                }
            }
        }
    }"
    x-on:shade-closed.window="collapse($event.detail.el)"
>
   {{ children|raw }}
</div>
