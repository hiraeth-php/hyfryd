<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        {% if app.hasFile('public/manifest.json') %}
            <link rel="manifest" href="/manifest.json" />
        {% endif %}

        {% block head %}
            <link rel="preconnect" href="https://cdn.jsdelivr.net">
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

            <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
            <script defer src="https://cdn.jsdelivr.net/npm/htmx.org@2.x.x/dist/htmx.min.js" crossorigin></script>
            <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" crossorigin></script>

            <style type="text/tailwindcss">
                {% if not app.hasFile('theme.hyfryd.css') %}
                    {% include '@vendor/hiraeth/hyfryd/themes/default.css' %}
                {% else %}
                    {{ app.getFile('theme.hyfryd.css').openFile('r').fpassthru }}
                {% endif %}
            </style>
        {% endblock %}
    </head>
    <body hx-boost="true" hx-target="#portal">
        <input type="hidden" hx-trigger="load" hx-get="{{ route(request) }}" />
        {% block body %}
            <main id="portal">

            </main>
        {% endblock %}
    </body>
    <script type="text/javascript">
        document.body.addEventListener('htmx:beforeOnLoad', function (e) {
            e.detail.shouldSwap = true;
            e.detail.isError = false;
        });
    </script>
</html>
