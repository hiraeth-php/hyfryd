{% set hyfryd = app.config('~', 'hyfryd', []) %}

<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        {% if app.hasFile('public/manifest.json') %}
            <link rel="manifest" href="/manifest.json" />
        {% endif %}

        <script type="text/javascript">
            document.body.addEventListener('htmx:beforeOnLoad', function (evt) {
                evt.detail.shouldSwap = true;
            });
        </script>

        {% if not app.hasFile('package.lock') %}
            <link rel="preconnect" href="https://cdn.jsdelivr.net">
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

            <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
            <script defer src="https://cdn.jsdelivr.net/npm/htmx.org@2.x.x/dist/htmx.min.js" crossorigin></script>
            <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" crossorigin></script>

            <style type="text/tailwindcss">
                {% include '@vendor/hiraeth/hyfryd/resources/themes/' ~ hyfryd.theme.tags ~ '.css' %}
            </style>
        {% endif %}

        {% block head %}

        {% endblock %}
    </head>
    <body hx-boost="true" hx-target="body" hx-swap="innerHTML">
    </body>
    <input type="hidden" hx-trigger="load" hx-get="{{ route(request) }}" />
</html>
